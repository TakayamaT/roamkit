(function () {var e={};var f,g,i={},a=i={};function l(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}function p($){if(f===setTimeout)return setTimeout($,0);if((f===l||!f)&&setTimeout)return f=setTimeout,setTimeout($,0);try{return f($,0)}catch(e){try{return f.call(null,$,0)}catch(e){return f.call(this,$,0)}}}function G($){if(g===clearTimeout)return clearTimeout($);if((g===m||!g)&&clearTimeout)return g=clearTimeout,clearTimeout($);try{return g($)}catch(e){try{return g.call(null,$)}catch(e){return g.call(this,$)}}}!function(){try{f="function"==typeof setTimeout?setTimeout:l}catch($){f=l}try{g="function"==typeof clearTimeout?clearTimeout:m}catch($){g=m}}();var h,d=[],n=!1,q=-1;function H(){n&&h&&(n=!1,h.length?d=h.concat(d):q=-1,d.length&&s())}function s(){if(!n){var $=p(H);n=!0;for(var e=d.length;e;){for(h=d,d=[];++q<e;)h&&h[q].run();q=-1,e=d.length}h=null,n=!1,G($)}}function t($,e){this.fun=$,this.array=e}function c(){}a.nextTick=function($){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new t($,e)),1!==d.length||n||p(s)},t.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.env={},a.argv=[],a.version="",a.versions={},a.on=c,a.addListener=c,a.once=c,a.off=c,a.removeListener=c,a.removeAllListeners=c,a.emit=c,a.prependListener=c,a.prependOnceListener=c,a.listeners=function($){return[]},a.binding=function($){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function($){throw new Error("process.chdir is not supported")},a.umask=function(){return 0};var b={},I=b&&b.__spreadArrays||function(){for(var e=0,r=0,o=arguments.length;r<o;r++)e+=arguments[r].length;var t=Array(e),n=0;for(r=0;r<o;r++)for(var $=arguments[r],i=0,s=$.length;i<s;i++,n++)t[n]=$[i];return t},u=function(){return function(e,r,o){this.name=e,this.version=r,this.os=o,this.type="browser"}}();b.BrowserInfo=u;var r=function(){return function(e){this.version=e,this.type="node",this.name="node",this.os=i.platform}}();b.NodeInfo=r;var v=function(){return function(e,r,o,t){this.name=e,this.version=r,this.os=o,this.bot=t,this.type="bot-device"}}();b.SearchBotDeviceInfo=v;var w=function(){return function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}}();b.BotInfo=w;var x=function(){return function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}}();b.ReactNativeInfo=x;var J=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,K=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,y=3,L=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",J]],z=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function A(e){return e?o(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new x:"undefined"!=typeof navigator?o(navigator.userAgent):D()}function B(e){return""!==e&&L.reduce(function(r,o){var t=o[0],n=o[1];if(r)return r;var $=n.exec(e);return!!$&&[t,$]},!1)}function M(e){var r=B(e);return r?r[0]:null}function o(e){var r=B(e);if(!r)return null;var o=r[0],t=r[1];if("searchbot"===o)return new w;var n=t[1]&&t[1].split(/[._]/).slice(0,3);n?n.length<y&&(n=I(n,N(y-n.length))):n=[];var $=n.join("."),i=C(e),s=K.exec(e);return s&&s[1]?new v(o,$,i,s[1]):new u(o,$,i)}function C(e){for(var r=0,o=z.length;r<o;r++){var t=z[r],n=t[0];if(t[1].exec(e))return n}return null}function D(){return void 0!==i&&i.version?new r(i.version.slice(1)):null}function N(e){for(var r=[],o=0;o<e;o++)r.push("0");return r}b.detect=A,b.browserName=M,b.parseUserAgent=o,b.detectOS=C,b.getNodeVersion=D;var E=e&&e.__assign||function(){return(E=Object.assign||function(e){for(var n,a=1,r=arguments.length;a<r;a++)for(var t in n=arguments[a])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}).apply(this,arguments)},O={debug:!1,voiceSelector:function(e,n){var a=n.filter(function(e){return"en-US"===e.lang}),r=a.filter(function(e){return e.name.includes("Natural")||e.name.includes("Google")});return 0===r.length?a[0]:r[0]},utterHandler:function(e){}},j=E(E({},O),null===window||void 0===window?void 0:window.readAloud),k=function(e){!0===j.debug&&console.log("read-aloud: "+e)},P=function(e){return"readAloud"===e.dataset.readAloud||(e.dataset.readAloud="readAloud",!1)},F=!1;window.speechSynthesis.onvoiceschanged=function(){F=!0};var Q=function(e,n){var a=A();k("browser: "+a.name),e.addEventListener("click",function(){speechSynthesis.speaking?speechSynthesis.cancel():new Promise(function(e){var n=setInterval(function(){k(F),!0===F&&(clearInterval(n),e()),k("voices-count: "+speechSynthesis.getVoices().length),0!==speechSynthesis.getVoices().length&&(F=!0,clearInterval(n),e())},500)}).then(function(){var e=j.voiceSelector(a.name,speechSynthesis.getVoices()),r=new SpeechSynthesisUtterance(n.textContent);r.voice=e,void 0!==j.utterHandler&&j.utterHandler(r),speechSynthesis.speak(r)})})},R=function(e){if(!P(e)){var n=e.closest(".rm-block-main").nextElementSibling;Q(e,n)}},S=function(){var e=Array.from(document.querySelectorAll("button")).filter(function(e){return"read"===e.textContent});k("found buttons: "+e.length),e.forEach(function(e){R(e)})};setInterval(S,1e3);if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e}else if(typeof define==="function"&&define.amd){define(function(){return e})}})();